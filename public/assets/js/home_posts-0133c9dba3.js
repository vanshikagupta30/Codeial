{let e=function(){let e=$("#new-post-form");e.submit((function(o){o.preventDefault(),$.ajax({type:"post",url:"/posts/create",data:e.serialize(),success:function(e){let o=t(e.data.post);$("#posts-list-container>ul").prepend(o),n($(" .delete-post-button",o)),new ToggleLike($(" .toggle-like-button",o)),createComment(e.data.post._id),new Noty({theme:"relax",text:"Post Created",type:"success",layout:"topRight",timeout:1500}).show()},error:function(e){request.flash("error","Error!"),console.log(e.responseText)}})}))},t=function(e){return $(`<li id="post-${e._id}">\n                    <p>\n                            <small>\n                                <a class="delete-post-button" href="/posts/destroy/${e._id}">\n                                    X\n                                </a> &nbsp;\n                            </small>\n\n                        ${e.content}\n                        <br>\n                        \n                        <small>\n                        \n                            <p>${e.user.name}</p>\n                            Email Id:${e.user.email}\n                        </small>\n                        <br>\n                        \x3c!-- show the count of zero likes on this post\n                        This is the new post so iske pas koi likes ni h tbhi hmne ise yha zero kiya --\x3e\n                        <small>\n\n                            <a class ="toggle-like-button" data-likes = "0" href = "/likes/toggle/?id=${e._id}&type=Post">\n                            0 Likes\n                            </a>\n\n                        </small>\n\n                    </p>\n                \n                \n                \x3c!---------- in this we create a comment section -----------\x3e\n                    <div class="post-comment">\n                    \n                \n                            <form action="/comments/create" class="new-comment-form" method="POST" id="comment-form-${e._id}">\n                                \n                                \x3c!-- id of the posts in which comment should be added that is which we need to send --\x3e\n                                <input type="hidden" name="post" value="${e._id}">\n                                <input type="text" name="content" placeholder="Type Here To Add Comment..." required>\n                                <input type="submit" value="Add Comment">\n                            </form>\n                \n                \n                \x3c!--------$$------- in this we will show the comments nesting vale ---------$$---------\x3e\n                        <div class="post-comments-list">\n                            <ul id="post-comments-${e._id}">\n                                \n                            </ul>\n                        </div>\n                    </div>\n                </li>`)},n=function(e){$(e).click((function(t){t.preventDefault(),$.ajax({type:"get",url:$(e).prop("href"),success:function(e){$("#post-"+e.data.post_id).remove(),new Noty({theme:"relax",text:"Post Deleted!",type:"success",layout:"topRight",timeout:1500}).show()},error:function(e){request.flash("error"," Error!"),console.log(e.responseText)}})}))};(function(){$("#posts-list-container>ul>li").each((function(){let e=$(this),t=$(" .delete-post-button",e);n(t);let o=e.prop("id").split("-")[1];createComment(o)})),$(".delete-comment-button").each((function(){let e=$(this);deleteComment(e)}))})(),e()}